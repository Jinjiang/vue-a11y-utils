# vue-a11y-utils

Utilities for accessibility (a11y) in Vue.js

## Summary

* [Why](#why)
* [`<VueAria>` Component](#vuearia-component)
* to be continued ...

## Why

When you write a Vue app with full accessible control. You may meet some issues frequently. For example:

- Make sure the [W3C ARIA](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA) roles & properties of each DOM element are set properly.
- Control the _focus_ and finish every task elegantly just by a _keyboard_.
- Using a central [live region](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions) to show messages which are generated by the app, not the user.
- Sometimes you need set a _ID reference_ or _ID reference list_ type aria attribute with _ID_ of another DOM element. But we don't use _ID_ for such a long time right?

Vue A11y Utils try to supply a group of utilities to help Vue developers finish these jobs easier. They are:

## `<VueAria>` Component

This component help you to write `role` and `aria-*` attributes better.

First you can put all `aria-*` attributes in an object. Second these a11y attributes can be inherited when more than 1 `<VueAria>` components nested. Third, it's more portable to use.

### API

#### props

* `role`: `string`
* `aria`: `Array` or `Object`
* `tabindex`: `number`

::: tip
When you pass `"none"` or `"appearance"` value into `role` prop but without a `tabindex` prop. The `tabindex` attribute on the root element will finally be `""`.
:::

#### slots

* default slot: the element you would put these a11y attributes on.

### Examples


#### For Props `role` And `aria`

``` vue
<template>
  <VueAria role="menubutton" :aria="aria">
    <button>WAI-ARIA Quick Links</button>
  </VueAria>
</template>

<script>
export default {
  components: { VueAria },
  data() {
    return {
      haspopup: true,
      controls: 'menu2'
    }
  }
}
</script>
```

which is same to:

``` vue
<template>
  <button id="menubutton" aria-haspopup="true" aria-controls="menu2">
    WAI-ARIA Quick Links
  </button>
</template>
```

So the content and structure is more clear than which with a lot of `aria-*` attribute in.

The `aria` prop could be an Array which is convenient to merge multiple `aria-*` attribute from different places:

``` vue
<template>
  <VueAria
    role="menubutton"
    :aria="[
      ariaData,
      ariaProps,
      otherAriaFromSomewhereElse
    ]"
  >
      <button>WAI-ARIA Quick Links</button>
  </VueAria>
</template>
```

And this component could be nested like:

``` vue
<template>
  <VueAria :aria="otherAriaFromSomewhereElse">
    <VueAria :aria="ariaProps">
      <VueAria role="menubutton" :aria="ariaData">
        <button>WAI-ARIA Quick Links</button>
      </VueAria>
    </VueAria>
  </VueAria>
</template>
```

or:

``` vue
<template>
  <VueAria role="menubutton">
    <VueAria :aria="aria">
      <button>WAI-ARIA Quick Links</button>
    </VueAria>
  </VueAria>
</template>
```

#### For Prop `tabindex`

If you want to make a ARIA widget focusable which is just a `<div>`. You should give it a `tabindex` attribute. For example:

``` vue
<template>
  <VueAria
    role="menubutton"
    :tabindex="0"
  >
    <div>WAI-ARIA Quick Links</div>
  </VueAria>
</template>
```

When you pass `"none"` or `"appearance"` value into `role` prop but without a `tabindex` prop. The `tabindex` attribute on the root element will finally be `""`. For examples:

``` vue
<template>
  <!-- won't be focused by click or TAB key -->
  <VueAria role="none">
    <div tabindex="0" role="menubutton">WAI-ARIA Quick Links</div>
  </VueAria>
</template>
```

``` vue
<template>
  <!-- won't be focused TAB key but could be focused by click -->
  <VueAria role="none" :tabindex="-1">
    <div role="button" tabindex="0">WAI-ARIA Quick Links</div>
  </VueAria>
</template>
```
